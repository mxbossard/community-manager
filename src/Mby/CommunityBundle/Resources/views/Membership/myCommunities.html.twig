{% extends 'AppBundle::layout.html.twig' %}

{% block page %}

<h1>My Communities</h1>

{% for community in communities %}
    <div>
        {{ community.name }}
        <ul>
        {% for season in community.seasons %}
            <li>
                {{ season.name }} - 
                From: {{ season.fromDate | localizeddate('medium', 'none', app.request.locale) }} 
                To : {{ season.toDate | localizeddate('medium', 'none', app.request.locale) }}
                <ul>
                    {% for membership in season.memberships %}
                        <li>
                            {{ membership.user.username }} - 
                            From: {{ membership.fromDate | localizeddate('medium', 'none', app.request.locale) }} 
                            To : {{ membership.toDate | localizeddate('medium', 'none', app.request.locale) }}
                            <ul>
                                {% for responsibility in season.responsibilities %}
                                    <li>
                                        {{ responsibility.name }}
                                    </li>
                                {% endfor %}
                            </ul>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endfor %}
        </ul>
    </div>
{% endfor %}

{% endblock %}